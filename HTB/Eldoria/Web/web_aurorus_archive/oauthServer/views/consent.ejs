<!-- views/consent.ejs -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Consent</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
  
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark mb-4">
    <div class="container">
      <a class="navbar-brand" href="/oauth/">OAuth2 Provider</a>
    </div>
  </nav>
  
  <div class="container">
    <h2 class="mb-4">Authorize <%= client.id %></h2>
    <p><strong>Application:</strong> <%= client.id %></p>
    <p><strong>Requested Permissions:</strong> <%= scope %></p>
    
    <form action="/oauth/authorize" method="POST">
      <!-- Hidden Inputs to Retain Authorization Context -->
      <input type="hidden" name="response_type" value="<%= response_type %>">
      <input type="hidden" name="client_id" value="<%= client_id %>">
      <input type="hidden" name="redirect_uri" value="<%= redirect_uri %>">
      <input type="hidden" name="scope" value="<%= scope %>">
      <input type="hidden" name="state" value="<%= state %>">
      
      <button type="submit" name="approve" value="true" class="btn btn-success me-3">Approve</button>
      <button type="submit" name="deny" value="true" class="btn btn-danger">Deny</button>
    </form>
  </div>
  
  <!-- Bootstrap JS Bundle -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
